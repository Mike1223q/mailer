<%- include('header-mathes.ejs') %>
<body>

    <!-- Sidebar -->
    <%- include('partials/sidebar') %>

    <!-- Banner for Incomplete Profile -->
    <div id="complete-profile-banner" class="d-none">
        <div class="banner-content">
            <h2>Complete Your Profile</h2>
            <p>You need to complete your own profile before you can discover others.</p>
            <a href="/profile-settings" class="btn-complete-profile">
                Go to Profile Settings <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>

    <div class="chat-view-container">
        <div class="chat-view-panel">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="chat-user-info">
                    <img src="" alt="User Avatar" id="chat-user-avatar" class="chat-user-avatar">
                    <div class="chat-user-details">
                        <h3 id="chat-user-name">Loading...</h3>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn-back" onclick="window.history.back()">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Messages Container -->
            <div class="messages-container" id="messages-container">
                <div class="loading-messages">
                    <div class="loading-spinner"></div>
                    <p>Loading conversation...</p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="chat-actions-bottom">
                <button class="btn-write-email" id="btn-write-email">
                    <i class="fas fa-envelope"></i> Write E-Letter
                </button>
                <button class="btn-write-letter" id="btn-write-letter">
                    <i class="fas fa-mail-bulk"></i> Write Letter
                </button>
            </div>
        </div>
    </div>

<%- include('footer-mathes.ejs') %>
